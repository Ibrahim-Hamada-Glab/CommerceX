<header class="products-header">
    <h1 class="products-title">All Products<span>(156 results)</span></h1>
    <div class="sort-dropdown">
        <button
            type="button"
            class="sort-trigger"
            #sortTrigger
            [class.active]="isDropdownOpen"
            (click)="toggleDropdown()"
            [attr.aria-expanded]="isDropdownOpen"
            aria-haspopup="listbox"
            aria-controls="sort-menu"
            aria-label="Sort products"
            (keydown)="onTriggerKeydown($event)">
            <span class="sort-label">Sort by:</span>
            <span class="sort-selected">{{ selectedSort }}</span>
            <i class="fa-solid fa-chevron-down" [class.rotate]="isDropdownOpen" aria-hidden="true"></i>
        </button>
        @if (isDropdownOpen) {
            <ul class="sort-menu"
                id="sort-menu"
                role="listbox"
                tabindex="-1"
                [attr.aria-activedescendant]="activeOptionId">
                @for (option of sortOptions; track option.value; let i = $index) {
                    <li
                        [id]="'option-' + i"
                        role="option"
                        [attr.aria-selected]="option.label === selectedSort"
                        [class.active]="option.label === selectedSort"
                        [class.focused]="i === focusedOptionIndex"
                        (click)="selectSort(option); $event.stopPropagation()"
                        (mouseenter)="focusedOptionIndex = i">
                        {{ option.label }}
                    </li>
                }
            </ul>
        }
    </div>
</header>

<section class="products-grid ">
    
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
    <app-product></app-product>
</section>

 
<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1">Previous</a>
    </li>
    <li class="page-item active"><a class="page-link" href="#">1</a></li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item">
      <a class="page-link" href="#">Next</a>
    </li>
  </ul>
</nav>
